<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>com.dj.tool</id>
    <name>Code Audit</name>

    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor email="jiaozhu303@yeha.net" url="https://www.dj.com">DJ</vendor>

    <product-descriptor
            code="PMYPLUGIN"
            release-date="20220507"
            release-version="20221"
            optional="true"/>

    <description>

        <![CDATA[
          <p>本工程基础源代码来自github.对源部分源代码文件进行修改，主要作用快速构建使用功能以及技术型参考，本工程同样遵守apache 2.0 开源协议</p>
        Provides support for <a href="https://example.com/my-framework">My
            Framework</a>.
        <p>Includes support for:
        <ul>
            <li>support confluence</li>
            <li>code completion</li>
            <li>references</li>
            <li>refactoring</li>
            <li>rename</li>
        </ul>
        </p>
  ]]>
    </description>

    <change-notes>
        1.refactor project for compatibility.
        2.update persistent design
        3.sync data to confluence design
    </change-notes>

    <depends>com.intellij.modules.platform</depends>

    <actions>

        <group id="code-audit-group" text="Code Audit" description="Code Audit" icon="MyIcons.Code" popup="true">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
            <action id="add-comment" class="com.dj.tool.action.AddComment" text="Code Audit Tool" icon="MyIcons.Action"
                    description="Code Audit tool">
                <keyboard-shortcut keymap="$default" first-keystroke="alt A"/>
            </action>

            <action id="code-setting" class="com.dj.tool.action.CodeAuditSetting" text="Code Audit Setting"
                    icon="MyIcons.Setting"
                    description="Code Audit Setting">
            </action>
        </group>

    </actions>

    <extensions defaultExtensionNs="com.intellij">
<!--        <projectService serviceImplementation="com.dj.tool.service.CodeAuditSettingProjectService"/>-->
        <applicationService serviceImplementation="com.dj.tool.service.CodeAuditSettingApplicationService"/>
        <toolWindow id="CodeRecord"
                    icon="MyIcons.ToolWindow"
                    anchor="bottom"
                    doNotActivateOnStart="true"
                    factoryClass="com.dj.tool.action.ManageReviewComment"/>
        <codeInsight.lineMarkerProvider
                language=""
                implementationClass="com.dj.tool.action.LeftMarkIconProvider"/>
    </extensions>

    <!--    <applicationListeners>-->
    <!--        <listener class="com.dj.tool.listeners.MyProjectManagerListener"-->
    <!--                  topic="com.intellij.openapi.project.ProjectManagerListener"/>-->
    <!--    </applicationListeners>-->
</idea-plugin>
