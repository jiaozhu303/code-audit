<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>com.dj.tool</id>
    <name>Code Audit</name>

    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor email="jiaozhu303@yeha.net" url="https://www.dj.com">DJ</vendor>

    <!--    收费插件 - 必须启用此标签信息-->
    <!--    <product-descriptor-->
    <!--            code="PCODEAUDIT"-->
    <!--            release-date="20231223"-->
    <!--            release-version="202332"-->
    <!--            optional="true"/>-->
    <version>2.4.1</version>
    <idea-version since-build="233" until-build="233.*"/>
    <description>
        <![CDATA[
            <p>
                <b>Code Audit</b>is a free Code Review tool that combines with version management software (Git) and document management software (Confluence) to socially share and discuss code with team members and others.
Generally, our Code review is to mark the problems in the code, and Code Audit is also, but it can communicate according to the code through a mode like chat or community interaction. And can be linked with IDEA. When someone reviews your code, a chat box will pop up in the lower right corner of your IDEA to tell you in time, and you can also export the review record, or synchronize the review result to confluence, and generate a report. More convenient double disk code.
 </p>
            <p>Includes feature:
            <ul>
                <li>support sync to confluence</li>
                <li>code market</li>
                <li>log review message</li>
                <li>export log to excel</li>
            </ul>
            </p>
        ]]>
    </description>


    <depends>com.intellij.modules.platform</depends>

    <actions>

        <group id="code-audit-group" text="Code Audit" description="Code Audit" icon="MyIcons.Code" popup="true">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
            <action id="add-comment" class="com.dj.tool.action.AddComment" text="Code Audit Tool" icon="MyIcons.Action"
                    description="Code Audit tool">
                <keyboard-shortcut keymap="$default" first-keystroke="alt A"/>
            </action>

            <action id="code-setting" class="com.dj.tool.action.CodeAuditSetting" text="Code Audit Setting"
                    icon="MyIcons.Setting"
                    description="Code Audit Setting">
            </action>
        </group>

    </actions>

    <extensions defaultExtensionNs="com.intellij">
        <!--        <projectService serviceImplementation="com.dj.tool.service.CodeAuditSettingProjectService"/>-->
        <applicationService serviceImplementation="com.dj.tool.service.CodeAuditSettingApplicationService"/>
        <!--        <projectService serviceImplementation="com.dj.tool.listener.DateRefreshNotifyListener"/>-->
        <projectService serviceImplementation="com.dj.tool.publisher.DateRefreshMessagePublisher"/>

        <toolWindow id="CodeRecord"
                    icon="MyIcons.ToolWindow"
                    anchor="bottom"
                    doNotActivateOnStart="true"
                    factoryClass="com.dj.tool.action.ManageReviewComment"/>
        <codeInsight.lineMarkerProvider
                language=""
                implementationClass="com.dj.tool.action.LeftMarkIconProvider"/>
        <notificationGroup id="Code Audit Notification"
                           displayType="BALLOON"/>
    </extensions>
    <!--    <applicationListeners>-->
    <!--        <listener class="com.dj.tool.listener.DateRefreshNotifyListener"-->
    <!--                  topic="com.dj.tool.listener.DateRefreshListener"/>-->
    <!--    </applicationListeners>-->
</idea-plugin>
