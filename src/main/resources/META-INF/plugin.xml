<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>com.dj.tool</id>
    <name>Code Audit</name>

    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor email="jiaozhu303@yeha.net" url="https://www.dj.com">DJ</vendor>

    <!--    收费插件 - 必须启用此标签信息-->
    <!--    <product-descriptor-->
    <!--            code="PCODEAUDIT"-->
    <!--            release-date="20231223"-->
    <!--            release-version="202332"-->
    <!--            optional="true"/>-->
    <version>2.3.8</version>
    <idea-version since-build="233" until-build="233.*"/>
    <description>
        <![CDATA[
            <p>
                After all, Code Review is a process added in the coding process, which requires a lot of communication. The two sides of review may even have disputes due to different programming concepts, and it is not easy to do a good Code Review for various reasons. So, this tool helps developers improve their code quality and thus their productivity.
            </p>
            <p>Includes support for:
            <ul>
                <li>support confluence</li>
                <li>code completion</li>
                <li>references</li>
                <li>refactoring</li>
                <li>rename</li>
            </ul>
            </p>
        ]]>
    </description>

    <change-notes>
        1.refactor project for compatibility.
        2.update persistent design
        3.sync data to confluence design
    </change-notes>

    <depends>com.intellij.modules.platform</depends>

    <actions>

        <group id="code-audit-group" text="Code Audit" description="Code Audit" icon="MyIcons.Code" popup="true">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
            <action id="add-comment" class="com.dj.tool.action.AddComment" text="Code Audit Tool" icon="MyIcons.Action"
                    description="Code Audit tool">
                <keyboard-shortcut keymap="$default" first-keystroke="alt A"/>
            </action>

            <action id="code-setting" class="com.dj.tool.action.CodeAuditSetting" text="Code Audit Setting"
                    icon="MyIcons.Setting"
                    description="Code Audit Setting">
            </action>
        </group>

    </actions>

    <extensions defaultExtensionNs="com.intellij">
        <!--        <projectService serviceImplementation="com.dj.tool.service.CodeAuditSettingProjectService"/>-->
        <applicationService serviceImplementation="com.dj.tool.service.CodeAuditSettingApplicationService"/>
        <!--        <projectService serviceImplementation="com.dj.tool.listener.DateRefreshNotifyListener"/>-->
        <projectService serviceImplementation="com.dj.tool.publisher.DateRefreshMessagePublisher"/>

        <toolWindow id="CodeRecord"
                    icon="MyIcons.ToolWindow"
                    anchor="bottom"
                    doNotActivateOnStart="true"
                    factoryClass="com.dj.tool.action.ManageReviewComment"/>
        <codeInsight.lineMarkerProvider
                language=""
                implementationClass="com.dj.tool.action.LeftMarkIconProvider"/>
        <notificationGroup id="Code Audit Notification"
                           displayType="BALLOON"/>
    </extensions>
    <!--    <applicationListeners>-->
    <!--        <listener class="com.dj.tool.listener.DateRefreshNotifyListener"-->
    <!--                  topic="com.dj.tool.listener.DateRefreshListener"/>-->
    <!--    </applicationListeners>-->
</idea-plugin>
